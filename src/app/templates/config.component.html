<div class="main-content section">
    <div class="row">
        <div class="col s12 m12">
            <div class="row">
                <div class="input-field col s6">
                    <select materialize="material_select" (change)="setRows($event)">
                        <option value="10" selected>10 Configuraciones por página</option>
                        <option value="25">25 Configuraciones por página</option>
                        <option value="50">50 Configuraciones por página</option>
                    </select>
                    <label>Configuraciones por página</label>
                </div>
                <div class="input-field col s6">
                    <input type="text" class="validate" (keyup)='onSearch($event)'>
                    <label for="first_name">Buscar</label>
                </div>
            </div>

            <ngx-datatable 
                class="material"
                [rows]="rows"
                [columnMode]="'force'"
                [headerHeight]="50"
                [footerHeight]="50"
                [rowHeight]="'auto'"
                [externalPaging]="true"
                [count]="page.totalElements"
                [offset]="page.pageNumber"
                [limit]="page.size"
                (page)='setPage($event)'
                [externalSorting]="true"
                [loadingIndicator]="loading"
                [trackByProp]="'updated'"
                (sort)="onSort($event)">

                <ngx-datatable-column name="Configuración" prop="config">
                    <ng-template let-value="value" ngx-datatable-cell-template>
                        {{ 'config.' + value | translate }}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column name="Valor" prop="value">
                    <ng-template let-value="value" ngx-datatable-cell-template>
                        {{value}}
                    </ng-template>
                </ngx-datatable-column>
                <ngx-datatable-column>
                    <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
                        <a class="waves-effect waves-light btn modal-trigger" href="#manageConfig" (click)="editConfigModal(row)"><i class="material-icons right">edit</i>Modificar</a>
                    </ng-template>
                </ngx-datatable-column>

            </ngx-datatable>
        </div>
    </div>
</div>

<div id="manageConfig" class="modal bottom-sheet"> <!--  materialize="modal" [materializeParams]="[{dismissible: false}]" [materializeActions]="modalActions" -->
     <div class="modal-content">
        <h4>Gestionar usuario</h4>
        <div class="row">
            <form materialize class="col s12" usersCrud>
                <div class="row">
                    <input name="real_config_name" type="hidden" readonly [(ngModel)] = "modalConfig.config">
                    <div class="input-field col s6">
                        <input type="text" value="{{ 'config.' + modalConfig.config | translate }}" readonly>
                        <label for="email" *ngIf="!modalConfig.config">Configuración</label>
                    </div>
                    <div class="input-field col s6">
                        <input name="address" type="text" autocomplete="off" class="validate" [(ngModel)] = "modalConfig.value">
                        <label for="address" *ngIf="!modalConfig.value">Valor</label>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <a class="modal-action modal-close waves-effect waves-green btn-flat">Cancelar</a>
        <a class="waves-effect waves-green btn-flat" (click)="editConfigRest()">Confirmar</a>
    </div>
</div>